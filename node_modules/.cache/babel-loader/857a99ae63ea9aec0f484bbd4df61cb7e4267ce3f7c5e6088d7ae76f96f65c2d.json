{"ast":null,"code":"var _jsxFileName = \"E:\\\\DOCUMENT SHARING\\\\827a159d-8cb5-4b0c-a3ae-c6126cce5724-e95b3f4a-3bfb-45da-a11b-d02a0840f98d\\\\reactapp\\\\src\\\\components\\\\pages\\\\MyDrive.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { documentService } from '../../services/documentService';\nimport { folderService } from '../../services/folderService';\nimport FolderCard from '../common/FolderCard';\nimport FileCard from '../common/FileCard';\nimport CreateFolderModal from '../common/CreateFolderModal';\nimport UploadFileModal from '../common/UploadFileModal';\nimport ShareModal from '../common/ShareModal';\nimport { Home, ChevronRight, Plus, Upload, Search, Grid3X3, List, SortAsc, Filter } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyDrive = () => {\n  _s();\n  const [folders, setFolders] = useState([]);\n  const [documents, setDocuments] = useState([]);\n  const [currentFolder, setCurrentFolder] = useState(null);\n  const [breadcrumb, setBreadcrumb] = useState([{\n    name: 'My Drive',\n    id: null\n  }]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [viewMode, setViewMode] = useState('grid');\n  const [sortBy, setSortBy] = useState('name');\n\n  // Modal states\n  const [showCreateFolder, setShowCreateFolder] = useState(false);\n  const [showUploadFile, setShowUploadFile] = useState(false);\n  const [showShareModal, setShowShareModal] = useState(false);\n  const [shareItem, setShareItem] = useState(null);\n  const [shareItemType, setShareItemType] = useState('');\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  useEffect(() => {\n    const folderId = searchParams.get('folder');\n    if (folderId) {\n      // Load specific folder\n      loadFolder(folderId);\n    } else {\n      setCurrentFolder(null);\n      setBreadcrumb([{\n        name: 'My Drive',\n        id: null\n      }]);\n    }\n    fetchFolderContents();\n  }, [searchParams]);\n  const loadFolder = async folderId => {\n    try {\n      const folder = await folderService.getFolderById(folderId);\n      setCurrentFolder(folder);\n      // You might need to build breadcrumb from folder hierarchy\n    } catch (error) {\n      console.error('Error loading folder:', error);\n      toast.error('Failed to load folder');\n    }\n  };\n  const fetchFolderContents = async () => {\n    setLoading(true);\n    try {\n      if (currentFolder) {\n        const [subFolders, folderDocs] = await Promise.all([folderService.getSubFolders(currentFolder.id), documentService.getDocumentsByFolder(currentFolder.id)]);\n        setFolders(subFolders);\n        setDocuments(folderDocs);\n      } else {\n        const [rootFolders, myDocs] = await Promise.all([folderService.getRootFolders(), documentService.getMyDocuments()]);\n        setFolders(rootFolders);\n        // Filter documents that don't belong to any folder\n        setDocuments(myDocs.filter(doc => !doc.folderId));\n      }\n    } catch (error) {\n      console.error('Error fetching folder contents:', error);\n      toast.error('Failed to load folder contents');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFolderOpen = folder => {\n    setCurrentFolder(folder);\n    setBreadcrumb(prev => [...prev, {\n      name: folder.name,\n      id: folder.id\n    }]);\n    navigate(`/my-drive?folder=${folder.id}`);\n  };\n  const handleBreadcrumbClick = index => {\n    const newBreadcrumb = breadcrumb.slice(0, index + 1);\n    setBreadcrumb(newBreadcrumb);\n    if (index === 0) {\n      setCurrentFolder(null);\n      navigate('/my-drive');\n    } else {\n      const folder = {\n        id: newBreadcrumb[index].id,\n        name: newBreadcrumb[index].name\n      };\n      setCurrentFolder(folder);\n      navigate(`/my-drive?folder=${folder.id}`);\n    }\n  };\n  const handleCreateFolder = async folderData => {\n    try {\n      await folderService.createFolder({\n        ...folderData,\n        parentFolder: currentFolder\n      });\n      toast.success('Folder created successfully');\n      fetchFolderContents();\n    } catch (error) {\n      console.error('Error creating folder:', error);\n      toast.error('Failed to create folder');\n    }\n  };\n  const handleUploadFile = async documentData => {\n    try {\n      await documentService.createDocument(documentData);\n      toast.success('Document uploaded successfully');\n      fetchFolderContents();\n    } catch (error) {\n      console.error('Error uploading file:', error);\n      toast.error('Failed to upload document');\n    }\n  };\n  const handleShare = (item, type) => {\n    setShareItem(item);\n    setShareItemType(type);\n    setShowShareModal(true);\n  };\n  const handleShareSubmit = async (item, shareWith) => {\n    try {\n      if (shareItemType === 'Document') {\n        await documentService.shareDocument(item.id, shareWith);\n      } else {\n        await folderService.shareFolder(item.id, shareWith);\n      }\n      toast.success(`${shareItemType} shared successfully!`);\n    } catch (error) {\n      console.error('Error sharing item:', error);\n      toast.error('Failed to share item');\n    }\n  };\n  const handleDeleteFolder = async folderId => {\n    if (!window.confirm('Are you sure you want to delete this folder?')) {\n      return;\n    }\n    try {\n      await folderService.deleteFolder(folderId);\n      toast.success('Folder deleted successfully');\n      fetchFolderContents();\n    } catch (error) {\n      console.error('Error deleting folder:', error);\n      toast.error('Failed to delete folder');\n    }\n  };\n  const handleDeleteDocument = async documentId => {\n    if (!window.confirm('Are you sure you want to delete this document?')) {\n      return;\n    }\n    try {\n      await documentService.deleteDocument(documentId);\n      toast.success('Document deleted successfully');\n      fetchFolderContents();\n    } catch (error) {\n      console.error('Error deleting document:', error);\n      toast.error('Failed to delete document');\n    }\n  };\n  const handleViewDocument = document => {\n    toast.info('Document viewer will be implemented');\n    console.log('Viewing document:', document);\n  };\n  const filteredFolders = folders.filter(folder => folder.name.toLowerCase().includes(searchQuery.toLowerCase()));\n  const filteredDocuments = documents.filter(doc => doc.title.toLowerCase().includes(searchQuery.toLowerCase()) || doc.fileName.toLowerCase().includes(searchQuery.toLowerCase()));\n  const sortItems = (items, type) => {\n    return [...items].sort((a, b) => {\n      switch (sortBy) {\n        case 'name':\n          const nameA = type === 'folder' ? a.name : a.title;\n          const nameB = type === 'folder' ? b.name : b.title;\n          return nameA.localeCompare(nameB);\n        case 'date':\n          return new Date(b.createdAt) - new Date(a.createdAt);\n        case 'size':\n          // For documents, you might have size info\n          return 0;\n        default:\n          return 0;\n      }\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-96\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex items-center space-x-1 text-sm\",\n        children: breadcrumb.map((crumb, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleBreadcrumbClick(index),\n            className: `flex items-center px-2 py-1 rounded-md transition-colors ${index === breadcrumb.length - 1 ? 'text-gray-900 font-medium' : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'}`,\n            children: [index === 0 && /*#__PURE__*/_jsxDEV(Home, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 33\n            }, this), crumb.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), index < breadcrumb.length - 1 && /*#__PURE__*/_jsxDEV(ChevronRight, {\n            className: \"h-4 w-4 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowCreateFolder(true),\n          className: \"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"New Folder\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowUploadFile(true),\n          className: \"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(Upload, {\n            className: \"h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex-1 max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          className: \"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search files and folders...\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value),\n          className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: sortBy,\n          onChange: e => setSortBy(e.target.value),\n          className: \"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"name\",\n            children: \"Sort by Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"date\",\n            children: \"Sort by Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"size\",\n            children: \"Sort by Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex rounded-lg border border-gray-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setViewMode('grid'),\n            className: `p-2 rounded-l-lg transition-colors ${viewMode === 'grid' ? 'bg-blue-600 text-white' : 'bg-white text-gray-600 hover:bg-gray-50'}`,\n            children: /*#__PURE__*/_jsxDEV(Grid3X3, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setViewMode('list'),\n            className: `p-2 rounded-r-lg transition-colors ${viewMode === 'list' ? 'bg-blue-600 text-white' : 'bg-white text-gray-600 hover:bg-gray-50'}`,\n            children: /*#__PURE__*/_jsxDEV(List, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-96\",\n      children: filteredFolders.length === 0 && filteredDocuments.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center py-16\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4\",\n          children: /*#__PURE__*/_jsxDEV(Home, {\n            className: \"h-12 w-12 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: searchQuery ? 'No results found' : 'This folder is empty'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-center mb-6\",\n          children: searchQuery ? `No files or folders match \"${searchQuery}\"` : 'Create a new folder or upload files to get started'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this), !searchQuery && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowCreateFolder(true),\n            className: \"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\",\n            children: \"Create Folder\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowUploadFile(true),\n            className: \"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\",\n            children: \"Upload Files\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8\",\n        children: [filteredFolders.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900 mb-4 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              className: \"h-5 w-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 19\n            }, this), \"Folders (\", filteredFolders.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: viewMode === 'grid' ? \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\" : \"space-y-2\",\n            children: sortItems(filteredFolders, 'folder').map(folder => /*#__PURE__*/_jsxDEV(FolderCard, {\n              folder: folder,\n              onOpen: handleFolderOpen,\n              onShare: () => handleShare(folder, 'Folder'),\n              onDelete: handleDeleteFolder\n            }, folder.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 15\n        }, this), filteredDocuments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900 mb-4 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Upload, {\n              className: \"h-5 w-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 19\n            }, this), \"Documents (\", filteredDocuments.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: viewMode === 'grid' ? \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\" : \"space-y-2\",\n            children: sortItems(filteredDocuments, 'document').map(doc => /*#__PURE__*/_jsxDEV(FileCard, {\n              document: doc,\n              onView: handleViewDocument,\n              onShare: () => handleShare(doc, 'Document'),\n              onDelete: handleDeleteDocument\n            }, doc.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CreateFolderModal, {\n      isOpen: showCreateFolder,\n      onClose: () => setShowCreateFolder(false),\n      onSubmit: handleCreateFolder,\n      parentFolder: currentFolder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(UploadFileModal, {\n      isOpen: showUploadFile,\n      onClose: () => setShowUploadFile(false),\n      onSubmit: handleUploadFile,\n      currentFolder: currentFolder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ShareModal, {\n      isOpen: showShareModal,\n      onClose: () => setShowShareModal(false),\n      item: shareItem,\n      itemType: shareItemType,\n      onShare: handleShareSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n};\n_s(MyDrive, \"mUllJcUjGWLtPqEX+fOpRWXzK70=\", false, function () {\n  return [useNavigate, useSearchParams];\n});\n_c = MyDrive;\nexport default MyDrive;\nvar _c;\n$RefreshReg$(_c, \"MyDrive\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSearchParams","documentService","folderService","FolderCard","FileCard","CreateFolderModal","UploadFileModal","ShareModal","Home","ChevronRight","Plus","Upload","Search","Grid3X3","List","SortAsc","Filter","toast","jsxDEV","_jsxDEV","MyDrive","_s","folders","setFolders","documents","setDocuments","currentFolder","setCurrentFolder","breadcrumb","setBreadcrumb","name","id","loading","setLoading","searchQuery","setSearchQuery","viewMode","setViewMode","sortBy","setSortBy","showCreateFolder","setShowCreateFolder","showUploadFile","setShowUploadFile","showShareModal","setShowShareModal","shareItem","setShareItem","shareItemType","setShareItemType","navigate","searchParams","folderId","get","loadFolder","fetchFolderContents","folder","getFolderById","error","console","subFolders","folderDocs","Promise","all","getSubFolders","getDocumentsByFolder","rootFolders","myDocs","getRootFolders","getMyDocuments","filter","doc","handleFolderOpen","prev","handleBreadcrumbClick","index","newBreadcrumb","slice","handleCreateFolder","folderData","createFolder","parentFolder","success","handleUploadFile","documentData","createDocument","handleShare","item","type","handleShareSubmit","shareWith","shareDocument","shareFolder","handleDeleteFolder","window","confirm","deleteFolder","handleDeleteDocument","documentId","deleteDocument","handleViewDocument","document","info","log","filteredFolders","toLowerCase","includes","filteredDocuments","title","fileName","sortItems","items","sort","a","b","nameA","nameB","localeCompare","Date","createdAt","className","children","_jsxFileName","lineNumber","columnNumber","map","crumb","Fragment","onClick","length","placeholder","value","onChange","e","target","onOpen","onShare","onDelete","onView","isOpen","onClose","onSubmit","itemType","_c","$RefreshReg$"],"sources":["E:/DOCUMENT SHARING/827a159d-8cb5-4b0c-a3ae-c6126cce5724-e95b3f4a-3bfb-45da-a11b-d02a0840f98d/reactapp/src/components/pages/MyDrive.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { documentService } from '../../services/documentService';\r\nimport { folderService } from '../../services/folderService';\r\nimport FolderCard from '../common/FolderCard';\r\nimport FileCard from '../common/FileCard';\r\nimport CreateFolderModal from '../common/CreateFolderModal';\r\nimport UploadFileModal from '../common/UploadFileModal';\r\nimport ShareModal from '../common/ShareModal';\r\nimport { \r\n  Home, \r\n  ChevronRight, \r\n  Plus, \r\n  Upload, \r\n  Search,\r\n  Grid3X3,\r\n  List,\r\n  SortAsc,\r\n  Filter\r\n} from 'lucide-react';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst MyDrive = () => {\r\n  const [folders, setFolders] = useState([]);\r\n  const [documents, setDocuments] = useState([]);\r\n  const [currentFolder, setCurrentFolder] = useState(null);\r\n  const [breadcrumb, setBreadcrumb] = useState([{ name: 'My Drive', id: null }]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [viewMode, setViewMode] = useState('grid');\r\n  const [sortBy, setSortBy] = useState('name');\r\n  \r\n  // Modal states\r\n  const [showCreateFolder, setShowCreateFolder] = useState(false);\r\n  const [showUploadFile, setShowUploadFile] = useState(false);\r\n  const [showShareModal, setShowShareModal] = useState(false);\r\n  const [shareItem, setShareItem] = useState(null);\r\n  const [shareItemType, setShareItemType] = useState('');\r\n\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    const folderId = searchParams.get('folder');\r\n    if (folderId) {\r\n      // Load specific folder\r\n      loadFolder(folderId);\r\n    } else {\r\n      setCurrentFolder(null);\r\n      setBreadcrumb([{ name: 'My Drive', id: null }]);\r\n    }\r\n    fetchFolderContents();\r\n  }, [searchParams]);\r\n\r\n  const loadFolder = async (folderId) => {\r\n    try {\r\n      const folder = await folderService.getFolderById(folderId);\r\n      setCurrentFolder(folder);\r\n      // You might need to build breadcrumb from folder hierarchy\r\n    } catch (error) {\r\n      console.error('Error loading folder:', error);\r\n      toast.error('Failed to load folder');\r\n    }\r\n  };\r\n\r\n  const fetchFolderContents = async () => {\r\n    setLoading(true);\r\n    try {\r\n      if (currentFolder) {\r\n        const [subFolders, folderDocs] = await Promise.all([\r\n          folderService.getSubFolders(currentFolder.id),\r\n          documentService.getDocumentsByFolder(currentFolder.id)\r\n        ]);\r\n        setFolders(subFolders);\r\n        setDocuments(folderDocs);\r\n      } else {\r\n        const [rootFolders, myDocs] = await Promise.all([\r\n          folderService.getRootFolders(),\r\n          documentService.getMyDocuments()\r\n        ]);\r\n        setFolders(rootFolders);\r\n        // Filter documents that don't belong to any folder\r\n        setDocuments(myDocs.filter(doc => !doc.folderId));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching folder contents:', error);\r\n      toast.error('Failed to load folder contents');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFolderOpen = (folder) => {\r\n    setCurrentFolder(folder);\r\n    setBreadcrumb(prev => [...prev, { name: folder.name, id: folder.id }]);\r\n    navigate(`/my-drive?folder=${folder.id}`);\r\n  };\r\n\r\n  const handleBreadcrumbClick = (index) => {\r\n    const newBreadcrumb = breadcrumb.slice(0, index + 1);\r\n    setBreadcrumb(newBreadcrumb);\r\n    \r\n    if (index === 0) {\r\n      setCurrentFolder(null);\r\n      navigate('/my-drive');\r\n    } else {\r\n      const folder = { id: newBreadcrumb[index].id, name: newBreadcrumb[index].name };\r\n      setCurrentFolder(folder);\r\n      navigate(`/my-drive?folder=${folder.id}`);\r\n    }\r\n  };\r\n\r\n  const handleCreateFolder = async (folderData) => {\r\n    try {\r\n      await folderService.createFolder({\r\n        ...folderData,\r\n        parentFolder: currentFolder\r\n      });\r\n      toast.success('Folder created successfully');\r\n      fetchFolderContents();\r\n    } catch (error) {\r\n      console.error('Error creating folder:', error);\r\n      toast.error('Failed to create folder');\r\n    }\r\n  };\r\n\r\n  const handleUploadFile = async (documentData) => {\r\n    try {\r\n      await documentService.createDocument(documentData);\r\n      toast.success('Document uploaded successfully');\r\n      fetchFolderContents();\r\n    } catch (error) {\r\n      console.error('Error uploading file:', error);\r\n      toast.error('Failed to upload document');\r\n    }\r\n  };\r\n\r\n  const handleShare = (item, type) => {\r\n    setShareItem(item);\r\n    setShareItemType(type);\r\n    setShowShareModal(true);\r\n  };\r\n\r\n  const handleShareSubmit = async (item, shareWith) => {\r\n    try {\r\n      if (shareItemType === 'Document') {\r\n        await documentService.shareDocument(item.id, shareWith);\r\n      } else {\r\n        await folderService.shareFolder(item.id, shareWith);\r\n      }\r\n      toast.success(`${shareItemType} shared successfully!`);\r\n    } catch (error) {\r\n      console.error('Error sharing item:', error);\r\n      toast.error('Failed to share item');\r\n    }\r\n  };\r\n\r\n  const handleDeleteFolder = async (folderId) => {\r\n    if (!window.confirm('Are you sure you want to delete this folder?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await folderService.deleteFolder(folderId);\r\n      toast.success('Folder deleted successfully');\r\n      fetchFolderContents();\r\n    } catch (error) {\r\n      console.error('Error deleting folder:', error);\r\n      toast.error('Failed to delete folder');\r\n    }\r\n  };\r\n\r\n  const handleDeleteDocument = async (documentId) => {\r\n    if (!window.confirm('Are you sure you want to delete this document?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await documentService.deleteDocument(documentId);\r\n      toast.success('Document deleted successfully');\r\n      fetchFolderContents();\r\n    } catch (error) {\r\n      console.error('Error deleting document:', error);\r\n      toast.error('Failed to delete document');\r\n    }\r\n  };\r\n\r\n  const handleViewDocument = (document) => {\r\n    toast.info('Document viewer will be implemented');\r\n    console.log('Viewing document:', document);\r\n  };\r\n\r\n  const filteredFolders = folders.filter(folder =>\r\n    folder.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  const filteredDocuments = documents.filter(doc =>\r\n    doc.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    doc.fileName.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  const sortItems = (items, type) => {\r\n    return [...items].sort((a, b) => {\r\n      switch (sortBy) {\r\n        case 'name':\r\n          const nameA = type === 'folder' ? a.name : a.title;\r\n          const nameB = type === 'folder' ? b.name : b.title;\r\n          return nameA.localeCompare(nameB);\r\n        case 'date':\r\n          return new Date(b.createdAt) - new Date(a.createdAt);\r\n        case 'size':\r\n          // For documents, you might have size info\r\n          return 0;\r\n        default:\r\n          return 0;\r\n      }\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-96\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0\">\r\n        {/* Breadcrumb */}\r\n        <nav className=\"flex items-center space-x-1 text-sm\">\r\n          {breadcrumb.map((crumb, index) => (\r\n            <React.Fragment key={index}>\r\n              <button\r\n                onClick={() => handleBreadcrumbClick(index)}\r\n                className={`flex items-center px-2 py-1 rounded-md transition-colors ${\r\n                  index === breadcrumb.length - 1\r\n                    ? 'text-gray-900 font-medium'\r\n                    : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\r\n                }`}\r\n              >\r\n                {index === 0 && <Home className=\"h-4 w-4 mr-1\" />}\r\n                {crumb.name}\r\n              </button>\r\n              {index < breadcrumb.length - 1 && (\r\n                <ChevronRight className=\"h-4 w-4 text-gray-400\" />\r\n              )}\r\n            </React.Fragment>\r\n          ))}\r\n        </nav>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex items-center space-x-3\">\r\n          <button\r\n            onClick={() => setShowCreateFolder(true)}\r\n            className=\"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2\"\r\n          >\r\n            <Plus className=\"h-4 w-4\" />\r\n            <span>New Folder</span>\r\n          </button>\r\n          <button\r\n            onClick={() => setShowUploadFile(true)}\r\n            className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center space-x-2\"\r\n          >\r\n            <Upload className=\"h-4 w-4\" />\r\n            <span>Upload</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search and Controls */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0\">\r\n        {/* Search */}\r\n        <div className=\"relative flex-1 max-w-md\">\r\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search files and folders...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          />\r\n        </div>\r\n\r\n        {/* View Controls */}\r\n        <div className=\"flex items-center space-x-2\">\r\n          {/* Sort */}\r\n          <select\r\n            value={sortBy}\r\n            onChange={(e) => setSortBy(e.target.value)}\r\n            className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\r\n          >\r\n            <option value=\"name\">Sort by Name</option>\r\n            <option value=\"date\">Sort by Date</option>\r\n            <option value=\"size\">Sort by Size</option>\r\n          </select>\r\n\r\n          {/* View Mode */}\r\n          <div className=\"flex rounded-lg border border-gray-300\">\r\n            <button\r\n              onClick={() => setViewMode('grid')}\r\n              className={`p-2 rounded-l-lg transition-colors ${\r\n                viewMode === 'grid'\r\n                  ? 'bg-blue-600 text-white'\r\n                  : 'bg-white text-gray-600 hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              <Grid3X3 className=\"h-4 w-4\" />\r\n            </button>\r\n            <button\r\n              onClick={() => setViewMode('list')}\r\n              className={`p-2 rounded-r-lg transition-colors ${\r\n                viewMode === 'list'\r\n                  ? 'bg-blue-600 text-white'\r\n                  : 'bg-white text-gray-600 hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              <List className=\"h-4 w-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"min-h-96\">\r\n        {filteredFolders.length === 0 && filteredDocuments.length === 0 ? (\r\n          <div className=\"flex flex-col items-center justify-center py-16\">\r\n            <div className=\"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4\">\r\n              <Home className=\"h-12 w-12 text-gray-400\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n              {searchQuery ? 'No results found' : 'This folder is empty'}\r\n            </h3>\r\n            <p className=\"text-gray-500 text-center mb-6\">\r\n              {searchQuery \r\n                ? `No files or folders match \"${searchQuery}\"`\r\n                : 'Create a new folder or upload files to get started'\r\n              }\r\n            </p>\r\n            {!searchQuery && (\r\n              <div className=\"flex space-x-3\">\r\n                <button\r\n                  onClick={() => setShowCreateFolder(true)}\r\n                  className=\"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Create Folder\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowUploadFile(true)}\r\n                  className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\r\n                >\r\n                  Upload Files\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-8\">\r\n            {/* Folders */}\r\n            {filteredFolders.length > 0 && (\r\n              <div>\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                  <Plus className=\"h-5 w-5 mr-2\" />\r\n                  Folders ({filteredFolders.length})\r\n                </h3>\r\n                <div className={viewMode === 'grid' \r\n                  ? \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\"\r\n                  : \"space-y-2\"\r\n                }>\r\n                  {sortItems(filteredFolders, 'folder').map(folder => (\r\n                    <FolderCard\r\n                      key={folder.id}\r\n                      folder={folder}\r\n                      onOpen={handleFolderOpen}\r\n                      onShare={() => handleShare(folder, 'Folder')}\r\n                      onDelete={handleDeleteFolder}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Documents */}\r\n            {filteredDocuments.length > 0 && (\r\n              <div>\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4 flex items-center\">\r\n                  <Upload className=\"h-5 w-5 mr-2\" />\r\n                  Documents ({filteredDocuments.length})\r\n                </h3>\r\n                <div className={viewMode === 'grid' \r\n                  ? \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\"\r\n                  : \"space-y-2\"\r\n                }>\r\n                  {sortItems(filteredDocuments, 'document').map(doc => (\r\n                    <FileCard\r\n                      key={doc.id}\r\n                      document={doc}\r\n                      onView={handleViewDocument}\r\n                      onShare={() => handleShare(doc, 'Document')}\r\n                      onDelete={handleDeleteDocument}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modals */}\r\n      <CreateFolderModal\r\n        isOpen={showCreateFolder}\r\n        onClose={() => setShowCreateFolder(false)}\r\n        onSubmit={handleCreateFolder}\r\n        parentFolder={currentFolder}\r\n      />\r\n\r\n      <UploadFileModal\r\n        isOpen={showUploadFile}\r\n        onClose={() => setShowUploadFile(false)}\r\n        onSubmit={handleUploadFile}\r\n        currentFolder={currentFolder}\r\n      />\r\n\r\n      <ShareModal\r\n        isOpen={showShareModal}\r\n        onClose={() => setShowShareModal(false)}\r\n        item={shareItem}\r\n        itemType={shareItemType}\r\n        onShare={handleShareSubmit}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyDrive;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}